UAGBCountdown={elements:{},countdownInterval:{},cookie_slug:uagb_countdown_data.site_name_slug,cache:{},editorInit(e,t={},n){if(!t.timeModified){const o=new Date;o.setMilliseconds(o.getMilliseconds()+6048e5),t.endDateTime=o}this.elements[e]=this.getElement(e),this.countdownInterval[e]=setInterval(()=>{this.updateCountdown(e,t,n)},1e3)},createCookie(e,t,n,o){let i="";if(n){const s=new Date;"minutes"===o?s.setTime(s.getTime()+60*n*1e3):"hours"===o?s.setTime(s.getTime()+60*n*60*1e3):s.setTime(s.getTime()+24*n*60*60*1e3),i="; expires="+s.toGMTString()}document.cookie=this.cookie_slug+"-"+e+"="+t+i+"; path=/"},getCookie(e){const t="; "+document.cookie,n=t.split("; "+this.cookie_slug+"-"+e+"=");return 2===n.length?n.pop().split(";").shift():""},init(t,n={}){if(this.elements[t]=this.getElement(t),window?.UAGBCountdownTimeSignal||(window.UAGBCountdownTimeSignal={}),window.UAGBCountdownTimeSignal[t]=!1,void 0!==this.elements[t]){if("evergreen"===n?.timerType){var e=""!==n?.campaignID&&null!==n?.campaignID?n.campaignID:n.block_id;if(this.cache.cookie=this.getCookie(e),""!==this.cache.cookie){const s=new Date;var o=Math.floor(this.cache.cookie-s.getTime()),o=s.getTime()+o;const r=new Date(o);n.endDateTime=r.toISOString().replace(/\.\d{3}Z$/,"Z")}else{n.endDateTime=this.getEvergreenEndDate(n.evergreenDays,n.evergreenHrs,n.evergreenMinutes);const a=new Date;a.setTime(a.getTime()+24*Math.floor(n.evergreenDays)*60*60*1e3),a.setTime(a.getTime()+60*Math.floor(n.evergreenHrs)*60*1e3),a.setTime(a.getTime()+60*Math.floor(n.evergreenMinutes)*1e3),this.cache.evergreen=a.getTime()+100;o=""!==n?.resetDays&&0<n.resetDays?n.resetDays:30;this.createCookie(e,this.cache.evergreen,o,"days")}}const i=document.querySelectorAll(t);for(let e=0;e<i.length;e++)this.updateCountdown(t,n,i[e]),this.countdownInterval[t]=setInterval(()=>{this.updateCountdown(t,n,i[e])},1e3)}},changeEndTime(e,t={},n){clearInterval(this.countdownInterval[e]),void 0!==this.elements[e]&&(this.updateCountdown(e,t,n),this.countdownInterval[e]=setInterval(()=>{this.updateCountdown(e,t,n)},1e3))},getElement(e){let t=document.querySelector(e);const n=document.querySelector('iframe[name="editor-canvas"]');return t=n&&n.contentDocument?n.contentDocument.querySelector(e):t},updateCountdown(r,a,c=null){if(c){a?.showDays&&(a.showHours=!0,a.showMinutes=!0),a?.showHours&&(a.showMinutes=!0);let e,t,n;const d=c.querySelector(".wp-block-uagb-countdown__time-seconds");a?.showDays&&(e=c.querySelector(".wp-block-uagb-countdown__time-days")),a?.showHours&&(t=c.querySelector(".wp-block-uagb-countdown__time-hours")),a?.showMinutes&&(n=c.querySelector(".wp-block-uagb-countdown__time-minutes"));var c=new Date,c=new Date(a.endDateTime)-c,u=c<0,l=Math.floor(c/1e3/60/60/24);let o=Math.floor(c/1e3/60/60)%24,i=Math.floor(c/1e3/60)%60,s=Math.floor(c/1e3)%60;a?.showDays||(o+=24*l),a?.showHours||(i+=60*o),a?.showMinutes||(s+=60*i),a?.showDays&&e&&(e.innerHTML=u?0:l),a?.showHours&&t&&(t.innerHTML=u?0:o),a?.showMinutes&&n&&(n.innerHTML=u?0:i),d&&(d.innerHTML=u?0:s),u&&(clearInterval(this.countdownInterval[r]),"redirect"!==a?.timerEndAction&&"hide"!==a?.timerEndAction||!a?.isFrontend||(window.UAGBCountdownTimeSignal[r]=!0))}},getEvergreenEndDate(e,t,n){const o=new Date,i=new Date(o.getTime()+60*(24*e*60+60*t+n)*1e3);return i.toISOString().replace(/\.\d{3}Z$/,"Z")}};